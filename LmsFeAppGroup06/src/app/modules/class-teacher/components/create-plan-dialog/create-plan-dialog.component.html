<div class="flex flex-col" [formGroup]="planForm">
    <div class="font-medium text-lg py-4 text-gray-500">{{plan ? 'Edit Plan': 'Create Plan'}}</div>
    <mat-form-field>
        <input matInput placeholder="title" formControlName="title">
        <mat-error *ngIf="errorHandling('title','required')">required</mat-error>
        <mat-error *ngIf="errorHandling('title','minlength')">minlength is 5</mat-error>
        <mat-error *ngIf="errorHandling('title','maxlength')">maxlength is 50</mat-error>
    </mat-form-field>
    <mat-form-field>
        <textarea matInput placeholder="content" rows="10" formControlName="content"></textarea>
        <mat-error>required</mat-error>
    </mat-form-field>
    <div *ngIf="createState.state === 'LOADING'" class="flex justify-center mb-4">
        <mat-spinner [diameter]="20"></mat-spinner>
    </div>
    <mat-error *ngIf="createState.state ==='ERROR'">{{createState.message}}</mat-error>
    <div class="grid grid-cols-2 gap-4">
        <button class="bg-blue-400 rounded hover:bg-blue-300 text-white py-2 px-5 focus:outline-none shadow-lg"
            [disabled]="createState.state === 'LOADING'" (click)="clickHandling()">{{plan ? 'Edit' : 'Create'}}</button>
        <button class="bg-gray-400 rounded hover:bg-gray-300 text-white py-2 px-5 focus:outline-none shadow-lg"
            [mat-dialog-close]="false">Cancel</button>
    </div>
</div>